<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head> 
    </h:head>
    <h:body >
        <ui:composition template="/xhtml/template/templateresponsive.xhtml">
            <ui:define name="body">
                <h:form id="form">
                    <div class="container">
                         <br></br>
                        <br></br>
                        <br></br>
                        <div class="row">
                            <ol class="breadcrumb">
                                <li><a href="#">Inicio</a></li>
                                <li class="active">Reserva Modulo- Paso 1</li>
                            </ol>
                        </div>
                        <div class="row">
                            <div class="col-xs-12 col-sm-12 col-lg-12 col-md-12"> 
                                <div class="container">
                                    <div class="row clearfix">
                                        <fieldset style="border: black;border-radius: 10px">
                                            <h3><legend style="color: darkblue"><strong>Información de la Reserva</strong></legend></h3>
                                            <br></br>
                                            <p>
                                                A continuación usted podra solicitar una reserva de una modulo de una sala de laboratorio. 
                                                Para este proceso es necesario ingresar la información solicitada en el formulario y el sistema le indicara si se encuentra disponible la sala para una reserva en la fecha y hora solicitada.
                                                Recuerde que las reservas de sala tiene un bloque de tiempo de 2 horas.
                                            </p>
                                            <div class="row col-xs-12 col-sm-12 col-lg-12 col-md-12">
                                                <div class="col-xs-12 col-sm-12 col-lg-6 col-md-6">
                                                    <div class="form-group">
                                                        <label for="date">
                                                            Día de la reserva
                                                        </label>
                                                        <h:inputText maxlength="11" value="#{controllerReservaModulo1.fecha}" required="true" class="form-control" id="fecha" requiredMessage="El campo Fecha es obligatorio.">
                                                            <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Bogota" locale="es" />
                                                            <f:ajax event="blur" listener="#{controllerReservaModulo1.activarHoraReserva()}" execute="@this" render="horaIngreso" />
                                                        </h:inputText>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-12 col-lg-6 col-md-6">
                                                    <div class="form-group">
                                                        <label for="horaIngreso">
                                                            Hora de Ingreso
                                                        </label>
                                                        <h:selectOneMenu value="#{controllerReservaModulo1.horaIngreso}"
                                                                         class="form-control"  disabled="#{controllerReservaModulo1.activarHora}"
                                                                         id="horaIngreso">
                                                            <f:selectItem itemLabel="Seleccione Hora" itemValue="null" />
                                                            <f:selectItems value="#{controllerReservaModulo1.listaHora}" var="hora"
                                                                           itemLabel="#{hora}" itemValue="#{hora}"/>
                                                        </h:selectOneMenu>
                                                    </div>
                                                </div>
                                            </div> 
                                            <div class="row col-xs-12 col-sm-12 col-lg-12 col-md-12">
                                                <div class="col-xs-12 col-sm-12 col-lg-6 col-md-6">
                                                    <div class="form-group">
                                                        <label for="parametroLaboratorio">
                                                            Laboratorio
                                                        </label>
                                                        <h:selectOneMenu value="#{controllerReservaModulo1.parametroLaboratorio}"
                                                                         class="form-control" 
                                                                         id="parametroLaboratorio">
                                                            <f:selectItem itemLabel="Seleccione Laboratorio" itemValue="null" />
                                                            <f:selectItems value="#{controllerReservaModulo1.listaLaboratorios}" var="laboratorio"
                                                                           itemLabel="#{laboratorio.nombrelaboratorio}" itemValue="#{laboratorio}"/>
                                                            <f:converter converterId="ConverterGenerico" />
                                                            <f:ajax event="change" listener="#{controllerReservaModulo1.actualizarLaboratorio()}" execute="@this" render="@this parametroModulo"/>
                                                        </h:selectOneMenu>
                                                    </div>
                                                </div>
                                                <div class="col-xs-12 col-sm-12 col-lg-6 col-md-6">
                                                    <div class="form-group">
                                                        <label for="parametroSala">
                                                            Sala de Laboratorio
                                                        </label>
                                                        <h:selectOneMenu value="#{controllerReservaSala1.parametroSala}"
                                                                         class="form-control" disabled="#{controllerReservaSala1.activarSala}"
                                                                         id="parametroSala">
                                                            <f:selectItem itemLabel="Seleccione Sala de Laboratorio" itemValue="null" />
                                                            <f:selectItems value="#{controllerReservaSala1.listaSalaLaboratorio}" var="sala"
                                                                           itemLabel="#{sala.nombresala}" itemValue="#{sala}"/>
                                                            <f:converter converterId="ConverterGenerico" />
                                                            <f:ajax event="change" listener="#{controllerReservaSala1.activarHoraReserva()}" render="horaIngreso"/>
                                                        </h:selectOneMenu>
                                                    </div>
                                                </div>

                                            </div> 
                                        </fieldset>
                                        <br></br>
                                        <div class="col-xs-12 col-sm-12 col-lg-12 col-md-12">
                                            <div class="right pull-right">
                                                <h:commandButton id="buttonConsultar" value="Consultar" class="btn btn-primary right" action="#{controllerReservaModulo1.consultarReservaARealizar()}" >
                                                    <f:ajax execute="@form" render="form" />
                                                </h:commandButton>
                                                <span></span>
                                                <span></span>
                                                <h:commandButton  value="Inicio" class="btn btn-primary right" action="#{controllerReservaModulo1.cancelarProcesoReserva()}" immediate="true">
                                                    <f:ajax execute="@form" render="form" />
                                                </h:commandButton>
                                            </div>
                                        </div>
                                        <hr class="intro-divider"/>
                                        <div class="row col-md-12">
                                            <div class="text-center">
                                                <h5>
                                                    Resultados de la Reserva
                                                </h5>
                                                <strong>
                                                    <h:outputText id="mensajeFormulario" class="text-uppercase" value="#{controllerReservaModulo1.mensajeFormulario}" style="color: #{controllerReservaModulo1.colorMensaje}}"/>
                                                </strong>
                                            </div>
                                            <br></br>
                                        </div>
                                        <hr class="intro-divider"/>
                                    </div>
                                    <div class="col-md-12 col-lg-12 hidden-sm hidden-xs">
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                        <br></br>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </h:form>
            </ui:define>  
        </ui:composition>
    </h:body>
</html>
