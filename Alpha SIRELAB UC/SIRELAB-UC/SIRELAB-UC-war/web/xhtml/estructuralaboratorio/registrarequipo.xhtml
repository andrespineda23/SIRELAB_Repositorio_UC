<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"

      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>        

        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <!--[if IE]>
            <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
            <![endif]-->
        <!-- Favicon Icon -->
        <link rel="icon" href="../../assets/img/favicon.ico" />
        <title>Sistema de Información de Recursos de Laboratorios</title>
        <!-- BOOTSTRAP CORE CSS -->
        <link href="../../assets/css/bootstrap.css" rel="stylesheet" />
        <!-- ION ICONS STYLES -->
        <link href="../../assets/css/ionicons.css" rel="stylesheet" />
        <!-- FONT AWESOME ICONS STYLES -->
        <link href="../../assets/css/font-awesome.css" rel="stylesheet" />
        <!-- CUSTOM CSS -->
        <link href="../../assets/css/style.css" rel="stylesheet" />
        <!-- IE10 viewport hack  -->
        <script src="../../assets/js/ie-10-view-port.js"></script>

        <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
        <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
        <link href="../../assets/css/jquery-ui.css" rel="stylesheet" type="text/css"/>


        <!-- IE10 viewport hack  -->
        <script src="../../assets/js/bootstrap.js"></script>

        <script type="text/javascript">
            function DisabledDomingo(date) {
                var day = date.getDay();
                // If day == 1 then it is MOnday
                if (day == 0) {
                    return [false];
                } else {
                    return [true];
                }
            }
            $(function () {
                $("#form\\:nuevoFechaAdquisicionEquipo").datepicker({
                    dateFormat: "dd/mm/yy",
                    beforeShowDay: DisabledDomingo
                });
            });
            // Traducción al español
            $(function ($) {
                $.datepicker.regional['es'] = {
                    closeText: 'Cerrar',
                    prevText: 'Ant',
                    nextText: 'Sig',
                    currentText: 'Hoy',
                    monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                    monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                    dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                    dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Juv', 'Vie', 'Sáb'],
                    dayNamesMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sá'],
                    weekHeader: 'Sm',
                    dateFormat: 'dd/mm/yy',
                    firstDay: 1,
                    isRTL: false,
                    showMonthAfterYear: false,
                    yearSuffix: ''
                };
                $.datepicker.setDefaults($.datepicker.regional['es']);
            });
        </script>

    </h:head>
    <h:body style="background-image: url('http://www.ucentral.edu.co/images/template_images/ucentral/fondos/fondo_template_default.jpg'); background-repeat: repeat; background-position: 0% 0%; background-attachment: fixed; background-color: #ffffff;">
        <h:form id="form">
            <div id="header">
                <header>
                    <div class="container">
                        <div class="row">
                            <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6 logo-wrapper">
                                <img src="../../assets/img/logo-universidad-central.png" alt=""/>
                            </div>
                        </div>
                    </div>
                </header>
            </div>
            <div class="container">
                <br></br>
                <br></br>
                <br></br>
                <div class="row">
                    <ol class="breadcrumb">
                        <li><a href="#">Inicio</a></li>
                        <li><a href="#">Administrar Equipos</a></li>
                        <li class="active">Registrar Equipo</li>
                    </ol>
                </div>
                <div class="row">
                    <div class="col-md-12 row">
                        <h2 class="info">
                            Información Registro
                        </h2>
                        <p>
                            Los campos marcados con (*) son obligatorios. Los caracteres especiales estan prohibidos para el registro de la información. 
                        </p>
                        <p>
                            Este registro es unicamente para elementos de un banco o modulo de trabajo de un laboratorio de la universidad, al momento de ser registrada en el sistema su estado sera ACTIVO, para su activación es necesario que un personal de laboratorio o administrador del sistema gestione el proceso. 
                        </p>
                    </div>
                    <div class="col-md-12 row">

                        <fieldset>
                            <legend class="text-info">Datos Basicos</legend>
                            <div class="form-group">
                                <strong><h:outputText value="Codigo Inventario Equipo*"/></strong>
                                <h:inputText maxlength="45"  value="#{controllerRegistrarEquipo.nuevoInventarioEquipo}" disabled="#{controllerRegistrarEquipo.activarCasillas}" required="true" class="form-control" id="nuevoInventarioEquipo" requiredMessage="El campo Inventario es obligatorio.">
                                    <f:ajax event="blur" listener="#{controllerRegistrarEquipo.validarInventarioEquipo()}" execute="nuevoInventarioEquipo" render="nuevoInventarioEquipo msnInventarioEquipo" />
                                </h:inputText>
                                <h6><h:message id="msnInventarioEquipo" for="nuevoInventarioEquipo" style="color: red"/></h6>
                            </div>
                            <div class="form-group">
                                <strong><h:outputText value="Nombre Equipo*"/></strong>
                                <h:inputText maxlength="45" value="#{controllerRegistrarEquipo.nuevoNombreEquipo}" disabled="#{controllerRegistrarEquipo.activarCasillas}" required="true" class="form-control" id="nuevoDetalleEquipo" requiredMessage="El campo Nombre es obligatorio.">
                                    <f:ajax event="blur" listener="#{controllerRegistrarEquipo.validarNombreEquipo()}" execute="nuevoDetalleEquipo" render="nuevoDetalleEquipo msnDetalleEquipo" />
                                </h:inputText>
                                <h6><h:message id="msnDetalleEquipo" for="nuevoDetalleEquipo" style="color: red"/></h6>
                            </div>
                            <div class="form-group">
                                <strong><h:outputText value="Marca Equipo*"/></strong>
                                <h:inputText maxlength="45"  value="#{controllerRegistrarEquipo.nuevoMarcaEquipo}" disabled="#{controllerRegistrarEquipo.activarCasillas}" required="true" class="form-control" id="nuevoMarcaEquipo" requiredMessage="El campo Marca es obligatorio.">
                                    <f:ajax event="blur" listener="#{controllerRegistrarEquipo.validarMarcaEquipo()}" execute="nuevoMarcaEquipo" render="nuevoMarcaEquipo msnMarcaEquipo" />
                                </h:inputText>
                                <h6><h:message id="msnMarcaEquipo" for="nuevoMarcaEquipo" style="color: red"/></h6>
                            </div>
                            <div class="form-group">
                                <strong><h:outputText value="Estado de Equipo*"/></strong>
                                <h:selectOneMenu  value="#{controllerRegistrarEquipo.nuevoEstadoEquipoEquipo}"
                                                  class="form-control" disabled="#{controllerRegistrarEquipo.activarCasillas}"
                                                  id="nuevoEstadoEquipoEquipo">
                                    <f:selectItem itemLabel="Seleccione Estado" itemValue="null" />
                                    <f:selectItems value="#{controllerRegistrarEquipo.listaEstadosEquipos}" var="estado"
                                                   itemLabel="#{estado.nombreestadoequipo}" itemValue="#{estado}"/>
                                    <f:converter converterId="ConverterGenerico" />
                                    <f:ajax event="change" listener="#{controllerRegistrarEquipo.actualizarEstadoEquipo()}" execute="nuevoEstadoEquipoEquipo" render="@this msnEstadoEquipoEquipo"/>
                                </h:selectOneMenu>
                                <h6><h:message id="msnEstadoEquipoEquipo" for="nuevoEstadoEquipoEquipo" style="color: red"/></h6>
                            </div>
                            <div class="form-group">
                                <strong><h:outputText value="Tipo Activo*"/></strong>
                                <h:selectOneMenu  value="#{controllerRegistrarEquipo.nuevoTipoActivoEquipo}"
                                                  class="form-control" disabled="#{controllerRegistrarEquipo.activarCasillas}"
                                                  id="nuevoTipoActivoEquipo">
                                    <f:selectItem itemLabel="Seleccione Tipo Activo" itemValue="null" />
                                    <f:selectItems value="#{controllerRegistrarEquipo.listaTiposActivos}" var="tipo"
                                                   itemLabel="#{tipo.nombretipoactivo}" itemValue="#{tipo}"/>
                                    <f:converter converterId="ConverterGenerico" />
                                    <f:ajax event="change" listener="#{controllerRegistrarEquipo.actualizarTipoActivo()}" execute="nuevoTipoActivoEquipo" render="@this msnTipoActivoEquipo"/>
                                </h:selectOneMenu>
                                <h6><h:message id="msnTipoActivoEquipo" for="nuevoTipoActivoEquipo" style="color: red"/></h6>
                            </div>
                            <div class="form-group">
                                <strong><h:outputText value="Proveedor*"/></strong>
                                <h:selectOneMenu  value="#{controllerRegistrarEquipo.nuevoProveedorEquipo}"
                                                  class="form-control" disabled="#{controllerRegistrarEquipo.activarCasillas}"
                                                  id="nuevoProveedorEquipo">
                                    <f:selectItem itemLabel="Seleccione Proveedor" itemValue="null" />
                                    <f:selectItems value="#{controllerRegistrarEquipo.listaProveedores}" var="proveedor"
                                                   itemLabel="#{proveedor.nombreproveedor}" itemValue="#{proveedor}"/>
                                    <f:converter converterId="ConverterGenerico" />
                                    <f:ajax event="change" listener="#{controllerRegistrarEquipo.actualizarProveedor()}" execute="nuevoProveedorEquipo" render="@this msnProveedorEquipo"/>
                                </h:selectOneMenu>
                                <h6><h:message id="msnProveedorEquipo" for="nuevoProveedorEquipo" style="color: red"/></h6>
                            </div>
                            <fieldset>
                                <legend class="h5 text-info">Datos Opcionales</legend>
                                <div class="form-group">
                                    <strong><h:outputText value="Modelo Equipo"/></strong>
                                    <h:inputText maxlength="45"  value="#{controllerRegistrarEquipo.nuevoModeloEquipo}" disabled="#{controllerRegistrarEquipo.activarCasillas}" class="form-control" id="nuevoModeloEquipo" >
                                        <f:ajax event="blur" listener="#{controllerRegistrarEquipo.validarModeloEquipo()}" execute="nuevoModeloEquipo" render="nuevoModeloEquipo msnModeloEquipo" />
                                    </h:inputText>
                                    <h6><h:message id="msnModeloEquipo" for="nuevoModeloEquipo" style="color: red"/></h6>
                                </div>
                                <div class="form-group">
                                    <strong><h:outputText value="Serie Equipo"/></strong>
                                    <h:inputText maxlength="45"  value="#{controllerRegistrarEquipo.nuevoSerieEquipo}" disabled="#{controllerRegistrarEquipo.activarCasillas}" class="form-control" id="nuevoSerieEquipo" >
                                        <f:ajax event="blur" listener="#{controllerRegistrarEquipo.validarSerieEquipo()}" execute="nuevoSerieEquipo" render="nuevoSerieEquipo msnSerieEquipo" />
                                    </h:inputText>
                                    <h6><h:message id="msnSerieEquipo" for="nuevoSerieEquipo" style="color: red"/></h6>
                                </div>
                                <div class="form-group">
                                    <strong><h:outputText value="Costo Alquiler"/></strong>
                                    <div class="input-group">
                                        <h:inputText maxlength="10"  value="#{controllerRegistrarEquipo.nuevoCostoAlquilerEquipo}" disabled="#{controllerRegistrarEquipo.activarCasillas}" class="form-control" id="nuevoCostoAlquilerEquipo" >
                                            <f:ajax event="blur" listener="#{controllerRegistrarEquipo.validarCostoAlquilerEquipo()}" execute="nuevoCostoAlquilerEquipo" render="nuevoCostoAlquilerEquipo msnCostoAlquilerEquipo" />
                                        </h:inputText>
                                        <span class="input-group-addon">$</span>
                                    </div>
                                    <h6><h:message id="msnCostoAlquilerEquipo" for="nuevoCostoAlquilerEquipo" style="color: red"/></h6>
                                </div>
                                <div class="form-group">
                                    <strong><h:outputText value="Costo Inversión"/></strong>
                                    <div class="input-group">
                                        <h:inputText maxlength="12"  value="#{controllerRegistrarEquipo.nuevoCostoInversionEquipo}" disabled="#{controllerRegistrarEquipo.activarCasillas}" class="form-control" id="nuevoCostoInversionEquipo" >
                                            <f:ajax event="blur" listener="#{controllerRegistrarEquipo.validarInversionEquipo()}" execute="nuevoCostoInversionEquipo" render="nuevoCostoInversionEquipo msnCostoInversionEquipo" />
                                        </h:inputText>
                                        <span class="input-group-addon">$</span>
                                    </div>
                                    <h6><h:message id="msnCostoInversionEquipo" for="nuevoCostoInversionEquipo" style="color: red"/></h6>
                                </div>
                                <div class="form-group">
                                    <strong><h:outputText value="Fecha Adquisición"/></strong>
                                    <h:inputText maxlength="10"  value="#{controllerRegistrarEquipo.nuevoFechaAdquisicionEquipo}" class="form-control" id="nuevoFechaAdquisicionEquipo">
                                        <f:ajax event="change" listener="#{controllerRegistrarEquipo.validarFechaEquipo()}" execute="nuevoFechaAdquisicionEquipo" render="nuevoFechaAdquisicionEquipo msnFechaAdquisicionEquipo" />
                                        <f:ajax event="blur" listener="#{controllerRegistrarEquipo.validarFechaEquipo()}" execute="nuevoFechaAdquisicionEquipo" render="nuevoFechaAdquisicionEquipo msnFechaAdquisicionEquipo" />
                                    </h:inputText>
                                    <h6><h:message id="msnFechaAdquisicionEquipo" for="nuevoFechaAdquisicionEquipo" style="color: red"/></h6>
                                </div>
                                <div class="form-group">
                                    <strong><h:outputText value="Descripción Equipo"/></strong>
                                    <h:inputText  maxlength="500"  value="#{controllerRegistrarEquipo.nuevoEspecificacionEquipo}" disabled="#{controllerRegistrarEquipo.activarCasillas}" class="form-control" id="nuevoEspecificacionEquipo" >
                                        <f:ajax event="blur" listener="#{controllerRegistrarEquipo.validarEspecificacionEquipo()}" execute="nuevoEspecificacionEquipo" render="nuevoEspecificacionEquipo msnEspecificacionEquipo" />
                                    </h:inputText>
                                    <h6><h:message id="msnEspecificacionEquipo" for="nuevoEspecificacionEquipo" style="color: red"/></h6>
                                </div>
                            </fieldset>
                        </fieldset>
                        <fieldset>
                            <legend class="text-info">Información Laboratorio</legend>
                            <div class="form-group">
                                <strong><h:outputText value="Laboratorio / Area de Profundización*"/></strong>
                                <h:selectOneMenu value="#{controllerRegistrarEquipo.nuevoLaboratorioPorArea}"
                                                 class="form-control" disabled="#{controllerRegistrarEquipo.activarCasillas}"
                                                 id="nuevoLaboratorioPorAreaEquipo">
                                    <f:selectItem itemLabel="Seleccione Registro" itemValue="null" />
                                    <f:selectItems value="#{controllerRegistrarEquipo.listaLaboratoriosPorAreas}" var="area"
                                                   itemLabel="#{area.informacionRegistro}" itemValue="#{area}"/>
                                    <f:converter converterId="ConverterGenerico" />
                                    <f:ajax event="change" listener="#{controllerRegistrarEquipo.actualizarNuevoLaboratorioPorArea()}" execute="nuevoLaboratorioPorAreaEquipo" render="@this nuevoSalaLaboratorioEquipo nuevoModuloLaboratorioEquipo msnLaboratorioPorAreaEquipo"/>
                                </h:selectOneMenu>
                                <h6><h:message id="msnLaboratorioPorAreaEquipo" for="nuevoLaboratorioPorAreaEquipo" style="color: red"/></h6>
                            </div>
                            <div class="form-group">
                                <strong><h:outputText value="Sala de Laboratorio*"/></strong>
                                <h:selectOneMenu disabled="#{controllerRegistrarEquipo.activarNuevoSalaLaboratorio}" value="#{controllerRegistrarEquipo.nuevoSalaLaboratorioEquipo}"
                                                 class="form-control"
                                                 id="nuevoSalaLaboratorioEquipo">
                                    <f:selectItem itemLabel="Seleccione Sala de Laboratorio" itemValue="null" />
                                    <f:selectItems value="#{controllerRegistrarEquipo.listaSalasLaboratorios}" var="sala"
                                                   itemLabel="#{sala.nombresala}" itemValue="#{sala}"/>
                                    <f:converter converterId="ConverterGenerico" />
                                    <f:ajax event="change" listener="#{controllerRegistrarEquipo.actualizarNuevoSalaLaboratorio()}" execute="nuevoSalaLaboratorioEquipo" render="@this nuevoModuloLaboratorioEquipo msnSalaLaboratorioEquipo"/>
                                </h:selectOneMenu>
                                <h6><h:message id="msnSalaLaboratorioEquipo" for="nuevoSalaLaboratorioEquipo" style="color: red"/></h6>
                            </div>
                            <div class="form-group">
                                <strong><h:outputText value="Modulo/Banco de Trabajo*"/></strong>
                                <h:selectOneMenu disabled="#{controllerRegistrarEquipo.activarNuevoModuloLaboratorio}" value="#{controllerRegistrarEquipo.nuevoModuloLaboratorioEquipo}"
                                                 class="form-control"
                                                 id="nuevoModuloLaboratorioEquipo">
                                    <f:selectItem itemLabel="Seleccione Modulo/Banco" itemValue="null" />
                                    <f:selectItems value="#{controllerRegistrarEquipo.listaModulosLaboratorios}" var="modulo"
                                                   itemLabel="#{modulo.detallemodulo}" itemValue="#{modulo}"/>
                                    <f:converter converterId="ConverterGenerico" />
                                    <f:ajax event="change" listener="#{controllerRegistrarEquipo.actualizarModulo()}" execute="nuevoModuloLaboratorioEquipo" render="@this msnModuloLaboratorioEquipo"/>
                                </h:selectOneMenu>
                                <h6><h:message id="msnModuloLaboratorioEquipo" for="nuevoModuloLaboratorioEquipo" style="color: red"/></h6>
                            </div>
                        </fieldset>
                        <hr class="intro-divider"/>
                        <div class="row col-md-12">
                            <div class="text-center">
                                <h5>
                                    Resultados del Formulario
                                </h5>
                                <strong>
                                    <h:outputText id="mensajeFormulario" class="text-uppercase" value="#{controllerRegistrarEquipo.mensajeFormulario}" style="color: #{controllerRegistrarEquipo.colorMensaje}}"/>
                                </strong>
                            </div>
                            <br></br>
                        </div>
                        <hr class="intro-divider"/>
                        <div class="right pull-right">
                            <h:commandButton class="btn btn-success" disabled="#{controllerRegistrarEquipo.activarAceptar}" value="Registrar" actionListener="#{controllerRegistrarEquipo.registrarNuevoModulo()}">
                                <f:ajax execute="@form" render="form" />
                            </h:commandButton>
                            <span></span>
                            <span></span>
                            <h:commandButton class="btn btn-danger" value="Cancelar" action="administrarequipos" actionListener="#{controllerRegistrarEquipo.limpiarRegistroEquipoElemento()}" immediate="true">
                                <f:ajax execute="@form" render="form" />
                            </h:commandButton>
                            <span></span>
                            <span></span>
                            <h:commandButton value="Limpiar" class="btn btn-info" disabled="#{controllerRegistrarEquipo.activarLimpiar}" actionListener="#{controllerRegistrarEquipo.cambiarActivarCasillas()}" >
                                <f:ajax execute="@form" render="form" />
                            </h:commandButton>
                        </div>
                    </div>
                </div>
            </div>
            <div id="footer">
                <footer>
                    <div class="container">
                        <div class="row text-center">
                            <div class="col-lg-12 col-md-12 col-sm-12">
                                &#169; 2015 - SIRELAB | by <a href="https://www.facebook.com/AndresPineda.51" target="_blank"> Andrés Pineda </a> 
                            </div>
                        </div>
                    </div>
                </footer>
            </div>
        </h:form>
    </h:body>
</html>
